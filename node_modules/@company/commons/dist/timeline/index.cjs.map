{"version":3,"sources":["../../src/timeline/TimelineWrapper.tsx"],"names":["useMemo","dayjs","useCallback","jsx","Timeline","TimelineHeaders","SidebarHeader","DateHeader"],"mappings":"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","file":"index.cjs","sourcesContent":["import { useMemo, useCallback } from \"react\";\nimport type { CSSProperties, ReactNode, ReactElement } from \"react\";\nimport Timeline, {\n  TimelineHeaders,\n  SidebarHeader,\n  DateHeader,\n  type TimelineGroupBase,\n  type TimelineItemBase,\n} from \"react-calendar-timeline\";\nimport dayjs from \"dayjs\";\n\n// CSS는 앱에서 import 해야함\n// import \"react-calendar-timeline/dist/Timeline.css\";\n\nexport interface TimelineGroup extends TimelineGroupBase {\n  id: string | number;\n  title: ReactNode;\n  rightTitle?: ReactNode;\n  stackItems?: boolean;\n  height?: number;\n}\n\nexport interface TimelineItem extends TimelineItemBase<number> {\n  id: string | number;\n  group: string | number;\n  title: ReactNode;\n  start_time: number;\n  end_time: number;\n  canMove?: boolean;\n  canResize?: boolean | \"left\" | \"right\" | \"both\";\n  canChangeGroup?: boolean;\n  className?: string;\n  style?: CSSProperties;\n}\n\nexport interface TimelineWrapperProps {\n  groups: TimelineGroup[];\n  items: TimelineItem[];\n  defaultTimeStart?: Date;\n  defaultTimeEnd?: Date;\n  height?: number | string;\n  style?: CSSProperties;\n  className?: string;\n  sidebarWidth?: number;\n  showHeader?: boolean;\n  headerLabel?: ReactNode;\n  onItemClick?: (itemId: string | number, e: React.SyntheticEvent, time: number) => void;\n  onItemMove?: (itemId: string | number, dragTime: number, newGroupOrder: number) => void;\n  onItemResize?: (itemId: string | number, time: number, edge: \"left\" | \"right\") => void;\n  onCanvasClick?: (groupId: string | number, time: number, e: React.SyntheticEvent) => void;\n}\n\nexport const TimelineWrapper = ({\n  groups,\n  items,\n  defaultTimeStart,\n  defaultTimeEnd,\n  height = 400,\n  style,\n  className,\n  sidebarWidth = 150,\n  showHeader = true,\n  headerLabel = \"그룹\",\n  onItemClick,\n  onItemMove,\n  onItemResize,\n  onCanvasClick,\n}: TimelineWrapperProps): ReactElement => {\n  const timeStart = useMemo(\n    () => defaultTimeStart?.getTime() ?? dayjs().startOf(\"day\").valueOf(),\n    [defaultTimeStart]\n  );\n\n  const timeEnd = useMemo(\n    () => defaultTimeEnd?.getTime() ?? dayjs().endOf(\"day\").valueOf(),\n    [defaultTimeEnd]\n  );\n\n  const handleItemClick = useCallback(\n    (itemId: number, e: React.SyntheticEvent, time: number) => {\n      onItemClick?.(itemId, e, time);\n    },\n    [onItemClick]\n  );\n\n  const handleItemMove = useCallback(\n    (itemId: number, dragTime: number, newGroupOrder: number) => {\n      onItemMove?.(itemId, dragTime, newGroupOrder);\n    },\n    [onItemMove]\n  );\n\n  const handleItemResize = useCallback(\n    (itemId: number, time: number, edge: \"left\" | \"right\") => {\n      onItemResize?.(itemId, time, edge);\n    },\n    [onItemResize]\n  );\n\n  const handleCanvasClick = useCallback(\n    (groupId: number, time: number, e: React.SyntheticEvent) => {\n      onCanvasClick?.(groupId, time, e);\n    },\n    [onCanvasClick]\n  );\n\n  const containerStyle: CSSProperties = {\n    height: typeof height === \"number\" ? `${height}px` : height,\n    ...style,\n  };\n\n  return (\n    <div className={className} style={containerStyle}>\n      <Timeline\n        groups={groups}\n        items={items}\n        defaultTimeStart={timeStart}\n        defaultTimeEnd={timeEnd}\n        sidebarWidth={sidebarWidth}\n        onItemClick={onItemClick ? handleItemClick : undefined}\n        onItemMove={onItemMove ? handleItemMove : undefined}\n        onItemResize={onItemResize ? handleItemResize : undefined}\n        onCanvasClick={onCanvasClick ? handleCanvasClick : undefined}\n      >\n        {showHeader && (\n          <TimelineHeaders>\n            <SidebarHeader>\n              {({ getRootProps }) => <div {...getRootProps()}>{headerLabel}</div>}\n            </SidebarHeader>\n            <DateHeader unit=\"primaryHeader\" />\n            <DateHeader />\n          </TimelineHeaders>\n        )}\n      </Timeline>\n    </div>\n  );\n};\n"]}