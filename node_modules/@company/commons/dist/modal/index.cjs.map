{"version":3,"sources":["../../src/modal/AppModal.tsx","../../src/store/modalStore.ts","../../src/modal/ModalProvider.tsx","../../src/modal/useModal.tsx"],"names":["jsxs","Dialog","DialogTitle","jsx","Box","IconButton","DialogContent","DialogActions","create","Fragment","useCallback"],"mappings":"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","file":"index.cjs","sourcesContent":["import Dialog, { type DialogProps } from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport IconButton from \"@mui/material/IconButton\";\nimport Box from \"@mui/material/Box\";\nimport type { ReactNode } from \"react\";\n\nexport interface ModalConfig {\n  maxWidth?: DialogProps[\"maxWidth\"];\n  fullWidth?: boolean;\n  fullScreen?: boolean;\n  disableBackdropClick?: boolean;\n  disableEscapeKeyDown?: boolean;\n}\n\nexport interface AppModalProps {\n  open: boolean;\n  onClose: () => void;\n  title?: ReactNode;\n  children?: ReactNode;\n  actions?: ReactNode;\n  config?: ModalConfig;\n  hideCloseButton?: boolean;\n}\n\nexport const AppModal = ({\n  open,\n  onClose,\n  title,\n  children,\n  actions,\n  config = {},\n  hideCloseButton = false,\n}: AppModalProps) => {\n  const {\n    maxWidth = \"sm\",\n    fullWidth = true,\n    fullScreen = false,\n    disableBackdropClick = false,\n    disableEscapeKeyDown = false,\n  } = config;\n\n  const handleClose = (_event: object, reason: \"backdropClick\" | \"escapeKeyDown\") => {\n    if (reason === \"backdropClick\" && disableBackdropClick) return;\n    if (reason === \"escapeKeyDown\" && disableEscapeKeyDown) return;\n    onClose();\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      maxWidth={maxWidth}\n      fullWidth={fullWidth}\n      fullScreen={fullScreen}\n    >\n      {title && (\n        <DialogTitle\n          sx={{\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            pr: hideCloseButton ? 3 : 1,\n          }}\n        >\n          <Box component=\"span\">{title}</Box>\n          {!hideCloseButton && (\n            <IconButton\n              aria-label=\"close\"\n              onClick={onClose}\n              sx={{ color: \"text.secondary\" }}\n            >\n              <Box component=\"span\" sx={{ fontSize: 20, lineHeight: 1 }}>\n                ✕\n              </Box>\n            </IconButton>\n          )}\n        </DialogTitle>\n      )}\n      {children && <DialogContent dividers>{children}</DialogContent>}\n      {actions && <DialogActions sx={{ px: 3, py: 2 }}>{actions}</DialogActions>}\n    </Dialog>\n  );\n};\n","import { create } from \"zustand\";\n\nexport interface ModalPayload<T extends Record<string, unknown> = Record<string, unknown>> {\n  id: string;\n  type: string;\n  props?: T;\n}\n\nexport interface ModalStoreState<T extends Record<string, unknown> = Record<string, unknown>> {\n  current: ModalPayload<T> | null;\n  open: (payload: Omit<ModalPayload<T>, \"id\"> & { id?: string }) => string;\n  close: () => void;\n}\n\nconst randomId = () => `${Date.now().toString(36)}-${Math.random().toString(36).slice(2, 10)}`;\n\nexport const useModalStore = create<ModalStoreState>((set) => ({\n  current: null,\n  open: (payload) => {\n    const modalPayload: ModalPayload = {\n      id: payload.id ?? randomId(),\n      type: payload.type,\n      props: payload.props,\n    };\n    set({ current: modalPayload });\n    return modalPayload.id;\n  },\n  close: () => set({ current: null }),\n}));\n","import type { PropsWithChildren, ReactNode, ComponentType } from \"react\";\nimport { useModalStore } from \"../store/modalStore\";\nimport { AppModal, type ModalConfig } from \"./AppModal\";\n\nexport type ModalRegistry = Record<\n  string,\n  ComponentType<{ onClose: () => void; [key: string]: unknown }>\n>;\n\nexport interface ModalProviderProps {\n  registry?: ModalRegistry;\n  defaultConfig?: ModalConfig;\n}\n\nexport const ModalProvider = ({\n  children,\n  registry = {},\n  defaultConfig,\n}: PropsWithChildren<ModalProviderProps>) => {\n  const current = useModalStore((state) => state.current);\n  const close = useModalStore((state) => state.close);\n\n  const renderModal = (): ReactNode => {\n    if (!current) return null;\n\n    const ModalComponent = registry[current.type];\n\n    if (ModalComponent) {\n      return (\n        <AppModal open onClose={close} config={defaultConfig}>\n          <ModalComponent onClose={close} {...(current.props ?? {})} />\n        </AppModal>\n      );\n    }\n\n    // fallback: props에서 title, content, actions를 직접 가져옴\n    const { title, content, actions, config, ...restProps } = (current.props ?? {}) as {\n      title?: ReactNode;\n      content?: ReactNode;\n      actions?: ReactNode;\n      config?: ModalConfig;\n      [key: string]: unknown;\n    };\n\n    return (\n      <AppModal\n        open\n        onClose={close}\n        title={title}\n        actions={actions}\n        config={{ ...defaultConfig, ...config }}\n        {...restProps}\n      >\n        {content}\n      </AppModal>\n    );\n  };\n\n  return (\n    <>\n      {children}\n      {renderModal()}\n    </>\n  );\n};\n","import { useCallback } from \"react\";\nimport { useModalStore } from \"../store/modalStore\";\n\nexport interface UseModalReturn {\n  isOpen: boolean;\n  currentModal: ReturnType<typeof useModalStore.getState>[\"current\"];\n  open: <T extends Record<string, unknown> = Record<string, unknown>>(\n    type: string,\n    props?: T\n  ) => string;\n  close: () => void;\n}\n\nexport const useModal = (): UseModalReturn => {\n  const current = useModalStore((state) => state.current);\n  const openModal = useModalStore((state) => state.open);\n  const closeModal = useModalStore((state) => state.close);\n\n  const open = useCallback(\n    <T extends Record<string, unknown> = Record<string, unknown>>(\n      type: string,\n      props?: T\n    ) => {\n      return openModal({ type, props: props as Record<string, unknown> });\n    },\n    [openModal]\n  );\n\n  const close = useCallback(() => {\n    closeModal();\n  }, [closeModal]);\n\n  return {\n    isOpen: current !== null,\n    currentModal: current,\n    open,\n    close,\n  };\n};\n"]}