{"version":3,"sources":["../src/aggrid/AgGridWrapper.tsx"],"names":[],"mappings":";;;;;;;AAYA,IAAI,iBAAA,GAAoB,KAAA;AAExB,IAAM,eAAA,GAAkB,CAAC,UAAA,KAAwB;AAC/C,EAAA,IAAI,iBAAA,EAAmB;AAEvB,EAAA,IAAI,UAAA,EAAY;AACd,IAAA,cAAA,CAAe,cAAc,UAAU,CAAA;AACvC,IAAA,cAAA,CAAe,eAAA,CAAgB,CAAC,mBAAmB,CAAC,CAAA;AAAA,EACtD,CAAA,MAAO;AACL,IAAA,cAAA,CAAe,eAAA,CAAgB,CAAC,kBAAkB,CAAC,CAAA;AAAA,EACrD;AAEA,EAAA,iBAAA,GAAoB,IAAA;AACtB,CAAA;AAsBA,SAAS,kBAAA,CACP;AAAA,EACE,OAAA;AAAA,EACA,UAAA;AAAA,EACA,UAAA;AAAA,EACA,MAAA,GAAS,GAAA;AAAA,EACT,KAAA,GAAQ,MAAA;AAAA,EACR,SAAA;AAAA,EACA,KAAA;AAAA,EACA,KAAA,GAAQ,QAAA;AAAA,EACR,QAAA,GAAW,KAAA;AAAA,EACX,cAAA;AAAA,EACA,WAAA;AAAA,EACA,aAAA;AAAA,EACA,GAAG;AACL,CAAA,EACA,GAAA,EACA;AACA,EAAA,MAAM,OAAA,GAAU,OAA2B,IAAI,CAAA;AAG/C,EAAA,OAAA,CAAQ,MAAM;AACZ,IAAA,eAAA,CAAgB,UAAU,CAAA;AAAA,EAC5B,CAAA,EAAG,CAAC,UAAU,CAAC,CAAA;AAGf,EAAA,mBAAA,CAAoB,KAAK,OAAO;AAAA,IAC9B,MAAA,EAAQ,MAAM,OAAA,CAAQ,OAAA,EAAS;AAAA,GACjC,CAAE,CAAA;AAEF,EAAA,MAAM,mBAAA,GAAsB,OAAA;AAAA,IAC1B,OAAO;AAAA,MACL,IAAA,EAAM,CAAA;AAAA,MACN,QAAA,EAAU,GAAA;AAAA,MACV,SAAA,EAAW,IAAA;AAAA,MACX,QAAA,EAAU,IAAA;AAAA,MACV,MAAA,EAAQ,IAAA;AAAA,MACR,GAAG;AAAA,KACL,CAAA;AAAA,IACA,CAAC,aAAa;AAAA,GAChB;AAEA,EAAA,MAAM,eAAA,GAAkB,WAAA;AAAA,IACtB,CAAC,KAAA,KAAiC;AAChC,MAAA,cAAA,GAAiB,MAAM,GAAG,CAAA;AAC1B,MAAA,WAAA,GAAc,KAAK,CAAA;AAAA,IACrB,CAAA;AAAA,IACA,CAAC,gBAAgB,WAAW;AAAA,GAC9B;AAEA,EAAA,MAAM,aAAa,QAAA,GAAW,CAAA,SAAA,EAAY,KAAK,CAAA,KAAA,CAAA,GAAU,YAAY,KAAK,CAAA,CAAA;AAE1E,EAAA,MAAM,cAAA,GAAgC;AAAA,IACpC,QAAQ,OAAO,MAAA,KAAW,QAAA,GAAW,CAAA,EAAG,MAAM,CAAA,EAAA,CAAA,GAAO,MAAA;AAAA,IACrD,OAAO,OAAO,KAAA,KAAU,QAAA,GAAW,CAAA,EAAG,KAAK,CAAA,EAAA,CAAA,GAAO,KAAA;AAAA,IAClD,GAAG;AAAA,GACL;AAEA,EAAA,uBACE,GAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAW,CAAA,EAAG,UAAU,IAAI,SAAA,IAAa,EAAE,CAAA,CAAA,EAAI,KAAA,EAAO,cAAA,EACzD,QAAA,kBAAA,GAAA;AAAA,IAAC,WAAA;AAAA,IAAA;AAAA,MACC,GAAA,EAAK,OAAA;AAAA,MACL,OAAA;AAAA,MACA,UAAA;AAAA,MACA,aAAA,EAAe,mBAAA;AAAA,MACf,WAAA,EAAa,eAAA;AAAA,MACb,WAAA,EAAW,IAAA;AAAA,MACV,GAAG;AAAA;AAAA,GACN,EACF,CAAA;AAEJ;AAEO,IAAM,aAAA,GAAgB,WAAW,kBAAkB","file":"chunk-2DUENMOX.js","sourcesContent":["import { useRef, useMemo, useCallback, forwardRef, useImperativeHandle } from \"react\";\nimport type { CSSProperties } from \"react\";\nimport { AgGridReact, type AgGridReactProps } from \"ag-grid-react\";\nimport type { GridApi, ColDef, GridReadyEvent } from \"ag-grid-community\";\nimport { AllCommunityModule, ModuleRegistry } from \"ag-grid-community\";\nimport { AllEnterpriseModule, LicenseManager } from \"ag-grid-enterprise\";\n\n// CSS는 앱에서 import 해야함\n// import \"ag-grid-community/styles/ag-grid.css\";\n// import \"ag-grid-community/styles/ag-theme-quartz.css\";\n\n// 모듈 등록 (한번만)\nlet modulesRegistered = false;\n\nconst registerModules = (licenseKey?: string) => {\n  if (modulesRegistered) return;\n\n  if (licenseKey) {\n    LicenseManager.setLicenseKey(licenseKey);\n    ModuleRegistry.registerModules([AllEnterpriseModule]);\n  } else {\n    ModuleRegistry.registerModules([AllCommunityModule]);\n  }\n\n  modulesRegistered = true;\n};\n\nexport type GridTheme = \"quartz\" | \"alpine\" | \"balham\" | \"material\";\n\nexport interface AgGridWrapperProps<TData = unknown>\n  extends Omit<AgGridReactProps<TData>, \"rowData\" | \"columnDefs\" | \"theme\"> {\n  rowData: TData[];\n  columnDefs: ColDef<TData>[];\n  licenseKey?: string;\n  height?: number | string;\n  width?: number | string;\n  className?: string;\n  style?: CSSProperties;\n  theme?: GridTheme;\n  darkMode?: boolean;\n  onGridApiReady?: (api: GridApi<TData>) => void;\n}\n\nexport interface AgGridWrapperRef<TData = unknown> {\n  getApi: () => GridApi<TData> | undefined;\n}\n\nfunction AgGridWrapperInner<TData = unknown>(\n  {\n    rowData,\n    columnDefs,\n    licenseKey,\n    height = 400,\n    width = \"100%\",\n    className,\n    style,\n    theme = \"quartz\",\n    darkMode = false,\n    onGridApiReady,\n    onGridReady,\n    defaultColDef,\n    ...rest\n  }: AgGridWrapperProps<TData>,\n  ref: React.ForwardedRef<AgGridWrapperRef<TData>>\n) {\n  const gridRef = useRef<AgGridReact<TData>>(null);\n\n  // 모듈 등록\n  useMemo(() => {\n    registerModules(licenseKey);\n  }, [licenseKey]);\n\n  // ref로 API 접근\n  useImperativeHandle(ref, () => ({\n    getApi: () => gridRef.current?.api,\n  }));\n\n  const mergedDefaultColDef = useMemo<ColDef<TData>>(\n    () => ({\n      flex: 1,\n      minWidth: 100,\n      resizable: true,\n      sortable: true,\n      filter: true,\n      ...defaultColDef,\n    }),\n    [defaultColDef]\n  );\n\n  const handleGridReady = useCallback(\n    (event: GridReadyEvent<TData>) => {\n      onGridApiReady?.(event.api);\n      onGridReady?.(event);\n    },\n    [onGridApiReady, onGridReady]\n  );\n\n  const themeClass = darkMode ? `ag-theme-${theme}-dark` : `ag-theme-${theme}`;\n\n  const containerStyle: CSSProperties = {\n    height: typeof height === \"number\" ? `${height}px` : height,\n    width: typeof width === \"number\" ? `${width}px` : width,\n    ...style,\n  };\n\n  return (\n    <div className={`${themeClass} ${className ?? \"\"}`} style={containerStyle}>\n      <AgGridReact<TData>\n        ref={gridRef}\n        rowData={rowData}\n        columnDefs={columnDefs}\n        defaultColDef={mergedDefaultColDef}\n        onGridReady={handleGridReady}\n        animateRows\n        {...rest}\n      />\n    </div>\n  );\n}\n\nexport const AgGridWrapper = forwardRef(AgGridWrapperInner) as <TData = unknown>(\n  props: AgGridWrapperProps<TData> & { ref?: React.ForwardedRef<AgGridWrapperRef<TData>> }\n) => ReturnType<typeof AgGridWrapperInner>;\n"]}